<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel LAN Center</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1 class="titulo">ğŸš€ PANEL LAN CENTER JACKNNIEL</h1>
<h2 id="rolTexto" class="rol"></h2>

<!-- ğŸ” PANEL ADMIN -->
<div id="adminPanel" class="admin-box" style="display:none;">
  <h2>ğŸ” Admin: Actualizar QR</h2>

  <p>ğŸ“Œ Para cambiar un QR solo sube una nueva imagen al repo con el mismo nombre:</p>

  <div class="files">
    <span>âœ… qr_banco.png</span>
    <span>âœ… qr_yasta.png</span>
  </div>

  <a class="btn-repo"
     href="https://github.com/lancenterjacknniel/panel-jacknniel"
     target="_blank">
     ğŸ‘‰ Subir QR al Repo
  </a>
</div>

<!-- ğŸ¦ TARJETAS QR -->
<div class="grid">

  <!-- BANCO UNION -->
  <div class="card-pro">
    <h2>Banco UniÃ³n</h2>

    <button onclick="mostrarQR('banco')" class="btn">
      Mostrar QR
    </button>

    <img id="qrBanco" class="qr-img">
  </div>

  <!-- YASTA -->
  <div class="card-pro">
    <h2>Yasta</h2>

    <button onclick="mostrarQR('yasta')" class="btn">
      Mostrar QR
    </button>

    <img id="qrYasta" class="qr-img">
  </div>

</div>

<!-- WHATSAPP -->
<div class="whatsapp">
  <button onclick="enviarWhatsApp()" class="btn-wsp">
    ğŸ“² Enviar WhatsApp
  </button>
</div>

<!-- SALIR -->
<div class="logout">
  <button onclick="logout()" class="btn-salir">
    ğŸšª Salir
  </button>
</div>

<script>
  // âœ… DATOS USUARIO
  let rol = localStorage.getItem("rol");
  let user = localStorage.getItem("user");

  document.getElementById("rolTexto").innerText =
    "Usuario: " + user + " | Rol: " + rol;

  // SOLO ADMIN VE PANEL ADMIN
  if (rol === "admin") {
    document.getElementById("adminPanel").style.display = "block";
  }

  // âœ… MOSTRAR QR
  function mostrarQR(tipo) {

    if (tipo === "banco") {
      document.getElementById("qrBanco").src =
        "qr_banco.png?cache=" + new Date().getTime();
    }

    if (tipo === "yasta") {
      document.getElementById("qrYasta").src =
        "qr_yasta.png?cache=" + new Date().getTime();
    }
  }

  // âœ… WHATSAPP
  function enviarWhatsApp() {
    let numero = "60772546";
    let mensaje = "Hola, aquÃ­ estÃ¡ el QR solicitado âœ…";

    window.open(
      "https://wa.me/" + numero + "?text=" + encodeURIComponent(mensaje),
      "_blank"
    );
  }

  // âœ… LOGOUT
  function logout() {
    localStorage.clear();
    window.location.href = "login.html";
  }
</script>

</body>
</html>
